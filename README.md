# redis-python-简单的代理池编写
## 这是一个典型的代理池结构demo ，代码中我爬取了西刺网上的免费代理ip 然后用flask 开了一个restfulAPi 随机返回 一个代理

### data_base.py 脚本中是一些db 的连接 初始化 封装的一些操作函数 
##### 具体的函数都有一个简单的注释 前提是打开redis 的 doc 文档 里面有一些对于连接redis后的操作 

### crawl.py 脚本中的代码是用来抓取西刺代理网站上面的免费代理
##### 主要是用到了 requests bs4 连接 和 解析 html 的 包工具 不熟悉的可以去搜索一下用法 

### test_proxy.py 脚本中是用来测试我网站上爬取的代理能不能用，因为是免费的代理 所以不能用的会很多，这里为了以后出bug ip访问不了，提前做删选。
##### 主要是用到了 aiohttp 来做测试 为什么不用requests 因为 aiohttp 异步请求是不会阻塞的 而requests 请求会阻塞 大面积的请求会导致响应时间变长，代码执行时间变长，aiohttp 也适用于批量的去请求，异步不会阻塞 ，节省时间。

### restful_api.py 脚本直白的来说就是开后台 让用户可以访问 不然爬网站 筛选ip干嘛的啊
##### /random 随机返回可用代理 /all 返回所有可用代理 /count 返回代理总数 / 欢迎界面

### dispatch_task.py 脚本是为了统一调度这几个 函数
##### 用了multiprocessing 来管理进程 ，开了三个进程来跑这三个脚本函数 间隔 20s 就去爬取和测试筛选ip 保证api 返回的ip代理是可用的
